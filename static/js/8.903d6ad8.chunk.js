(this["webpackJsonpvanity-stock"]=this["webpackJsonpvanity-stock"]||[]).push([[8],{444:function(e,t,n){},495:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(30),a=(n(185),n(116),n(47),n(444),n.p+"static/media/0_pencil.7922f3a6.svg"),c=(n.p,n.p,n.p+"static/media/download.ca20c51c.svg"),d=n.p+"static/media/eraser.4a7139e2.svg",l=n.p+"static/media/note.af1a509a.svg",o=n.p+"static/media/photo.4869f4aa.svg",r=n.p+"static/media/redo.68f7d638.svg",u=(n.p,n.p+"static/media/undo.d8331ea2.svg"),m=(n.p,n.p,n(445)),v=n.n(m),p=n(446),y=n(430),g=n(6);let h,b=!0,j=["#000000","#eb3b5a","#3867d6"],f=0,x="#000000";var k;let L,w,S;var O,E;let q,R,_,$,N,A,C,M=0,T=[],Y=0,B=!1;function H(){Y<=0?$.classList.add("disabled"):$.classList.remove("disabled"),Y<T.length-1?N.classList.remove("disabled"):N.classList.add("disabled")}function I(){let e=T[Y],t=new Image;t.src=e,t.onload=()=>{A.fillStyle="white",A.fillRect(0,0,_.width,_.height),A.drawImage(t,0,0,_.width,_.height)}}function P(){let e=_.toDataURL();T.push(e),Y=T.length-1,Y>0&&$.classList.remove("disabled")}function X(e,t){e.addEventListener("input",(()=>{var n=e.value;A.lineWidth=n,t.style.display="block",t.innerHTML=n})),e.addEventListener("mouseup",(()=>{t.style.display="none"}))}function z(){w.setAttribute("src",`icons/${f}_pencil.svg`),k.setAttribute("style",`background-color: ${j[f]}; border: 2px solid ${j[f]}`),O.style.color=j[f],A.strokeStyle=j[f],x=j[f],f=(f+1)%3}function J(e){let t=document.createElement("div");t.setAttribute("class","sticky-note"),t.setAttribute("id",`sticky-note-${M}`);let n=document.querySelector("nav").getBoundingClientRect(),i=Math.floor(Math.random()*window.innerWidth),s=Math.floor(Math.random()*(window.innerHeight-n.height));t.innerHTML=e,s<n.height&&(s+=n.height),s>window.innerHeight/2&&(s-=256),t.style.top=s+window.pageYOffset+"px",i>240&&(i-=240),t.style.left=i+"px",document.querySelector(".canvas_div_pdf").appendChild(t),document.querySelector(`#sticky-note-${M} header`).onmousedown=function(e){!function(e,t){let n=t.clientX-e.getBoundingClientRect().left,i=t.clientY-e.getBoundingClientRect().top;function s(t,s){e.style.left=t-n+"px",e.style.top=s-i+"px"}function a(e){s(e.pageX,e.pageY)}e.style.zIndex=1e3,s(t.pageX,t.pageY),document.addEventListener("mousemove",a),e.onmouseup=function(){document.removeEventListener("mousemove",a),e.onmouseup=null}}(t,e)},t.ondragstart=function(){return!1};let a=document.querySelector(`#sticky-note-${M} .minimize`),c=document.querySelector(`#sticky-note-${M} .note-container`),d=document.querySelector(`#sticky-note-${M} header`);a.addEventListener("click",(()=>{"block"===getComputedStyle(c).getPropertyValue("display")?(c.style.display="none",d.style.borderRadius="0.8rem"):(d.style.borderBottomLeftRadius="",d.style.borderBottomRightRadius="",c.style.display="block")})),document.querySelector(`#sticky-note-${M} .remove`).addEventListener("click",(()=>{console.log("clicked"),t.remove()})),M++}t.default=Object(s.g)((function(e){let{history:t,i18n:n,language:s}=e;return Object(i.useEffect)((()=>{h=document.querySelector("#nav-icon1"),h.addEventListener("click",(()=>{h.classList.toggle("open");let e=document.querySelector(".tools");b?(e.setAttribute("style","animation-name:hide-tools;animation-duration: 0.8s"),setTimeout((function(){e.style.display="none"}),700),b=!1):(e.setAttribute("style","animation-name:show-tools"),e.style.display="flex",b=!0)})),k=document.querySelector("#pencil-slider-value input"),L=document.querySelector("#eraser-slider-value input"),w=document.querySelector("img#pencil"),S=document.querySelector("img#eraser"),O=document.querySelector("#pencil-slider-value .value"),E=document.querySelector("#eraser-slider-value .value"),q=document.querySelector("img#sticky"),X(k,O),X(L,E),w.addEventListener("click",(()=>{w.classList.add("active"),S.classList.remove("active"),k.style.display="block",L.style.display="none",A.strokeStyle=x})),S.addEventListener("click",(()=>{S.classList.add("active"),w.classList.remove("active"),k.style.display="none",L.style.display="block",A.strokeStyle="white"})),k.addEventListener("dblclick",z),w.addEventListener("dblclick",z),q.addEventListener("click",(()=>{J('\n            <header>\n              <input type="text" />\n              <div class="actions">\n                <div class="minimize"></div>\n                <div class="remove"></div>\n              </div>\n            </header>\n            <div class="note-container">\n              <textarea spellcheck="false" ></textarea>\n            </div>\n            ')})),R=document.querySelector("img#upload"),R.addEventListener("click",(()=>{let e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(()=>{let t=e.files[0],n=URL.createObjectURL(t);J(`\n    <header>\n    <input type="text" value=${t.name.split(".")[0]} />\n    <div class="actions">\n      <div class="minimize"></div>\n      <div class="remove"></div>\n    </div>\n    </header>\n    <div class="note-container">\n      <img src = "${n}" />\n    </div>\n    `)}))})),_=document.querySelector("canvas"),T=[],Y=0,P(),$=document.querySelector("img#undo"),N=document.querySelector("img#redo"),_.width=window.innerWidth,_.height=4*window.innerHeight,A=_.getContext("2d"),A.strokeStyle="black",A.lineWidth="3",B=!1,_.addEventListener("mousedown",(e=>{var t;B=!0,t={x:e.pageX,y:e.pageY},A.beginPath(),A.moveTo(t.x,t.y)})),_.addEventListener("mousemove",(e=>{var t;B&&(t={x:e.pageX,y:e.pageY},A.lineTo(t.x,t.y),A.stroke())})),_.addEventListener("mouseup",(()=>{B=!1,P()})),$.addEventListener("click",(()=>{Y>0&&(Y--,I()),H()})),N.addEventListener("click",(()=>{Y<T.length-1&&(Y++,I()),H()})),C=document.querySelector("img#download"),C.addEventListener("click",(()=>{let e=document.querySelectorAll(".note-container");e.forEach((e=>{e.style.border="1px solid #bbbbbb"})),function(){var e=v()(".canvas_div_pdf").width(),t=v()(".canvas_div_pdf").height(),n=15,i=e+30,s=1.5*i+30,a=e,c=t,d=Math.ceil(t/s)-1;Object(y.html2canvas)(v()(".canvas_div_pdf")[0],{allowTaint:!0}).then((function(e){e.getContext("2d"),console.log(e.height+"  "+e.width);var t=e.toDataURL("image/jpeg",1),l=new p.a("p","pt",[i,s]);l.addImage(t,"JPG",n,n,a,c);for(var o=1;o<=d;o++)l.addPage(i,s),l.addImage(t,"JPG",n,-s*o+60,a,c);l.save("myNotes.pdf")}))}(),e.forEach((e=>{e.style.border="none"}))}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"tools-toggle-button",children:Object(g.jsxs)("div",{id:"nav-icon1",className:"open",children:[Object(g.jsx)("span",{}),Object(g.jsx)("span",{}),Object(g.jsx)("span",{})]})}),Object(g.jsxs)("div",{className:"tools",children:[Object(g.jsx)("img",{id:"pencil",className:"active",src:a}),Object(g.jsx)("img",{id:"eraser",src:d}),Object(g.jsx)("img",{id:"sticky",src:l}),Object(g.jsx)("img",{id:"upload",src:o}),Object(g.jsx)("img",{id:"undo",src:u,className:"disabled"}),Object(g.jsx)("img",{id:"redo",src:r,className:"disabled"}),Object(g.jsx)("img",{id:"download",src:c})]}),Object(g.jsxs)("div",{id:"pencil-slider-value",children:[Object(g.jsx)("div",{className:"value",children:"2"}),Object(g.jsx)("input",{type:"range",min:"1",max:"10",step:"1",value:"3",onChange:()=>{console.log("hello")}})]}),Object(g.jsxs)("div",{id:"eraser-slider-value",children:[Object(g.jsx)("div",{className:"value",children:"2"}),Object(g.jsx)("input",{type:"range",min:"1",max:"10",step:"1",value:"3",style:{display:"none"},onChange:()=>{console.log("hello")}})]}),Object(g.jsx)("div",{className:"canvas_div_pdf",children:Object(g.jsx)("canvas",{})})]})}))}}]);
//# sourceMappingURL=8.903d6ad8.chunk.js.map
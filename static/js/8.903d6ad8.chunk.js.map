{"version":3,"sources":["assets/icons/0_pencil.svg","assets/icons/download.svg","assets/icons/1_pencil.svg","assets/icons/2_pencil.svg","assets/icons/eraser.svg","assets/icons/note.svg","assets/icons/photo.svg","assets/icons/redo.svg","assets/icons/undo.svg","assets/icons/shapes.svg","assets/icons/zoom-in.svg","assets/icons/zoom-out.svg","pages/OpenBoard/index.jsx"],"names":["hamburger","toolsDisplay","colors","colorNumber","currColor","pencilSlider","eraserSlider","pencil","eraser","pencilTarget","eraserTarget","sticky","upload","canvas","undo","redo","tool","download","stickyNoteNumber","undoRedoTracker","track","mouseDown","updateUndoRedoDisabledClass","classList","add","remove","length","undoRedoCanvas","url","img","Image","src","onload","fillStyle","fillRect","width","height","drawImage","addToundoRedoTracker","toDataURL","push","changeSliderValue","slider","target","addEventListener","newValue","value","lineWidth","style","display","innerHTML","changePencilColor","setAttribute","color","strokeStyle","createStickyNote","stickyTemplateHTML","stickyCont","document","createElement","navDimensions","querySelector","getBoundingClientRect","left","Math","floor","random","window","innerWidth","top","innerHeight","pageYOffset","appendChild","onmousedown","event","element","shiftX","clientX","shiftY","clientY","moveAt","pageX","pageY","onMouseMove","zIndex","onmouseup","removeEventListener","dragAndDrop","ondragstart","minimize","noteContainer","noteHeader","getComputedStyle","getPropertyValue","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","console","log","withRouter","_ref","history","i18n","language","useEffect","toggle","tools","setTimeout","input","click","file","files","URL","createObjectURL","name","split","getContext","e","strokeObj","x","y","beginPath","moveTo","lineTo","stroke","noteContainers","querySelectorAll","forEach","note","border","HTML_Width","$","HTML_Height","top_left_margin","PDF_Width","PDF_Height","canvas_image_width","canvas_image_height","totalPDFPages","ceil","html2canvas","allowTaint","then","imgData","pdf","jsPDF","addImage","i","addPage","save","getPDF","_jsxs","_Fragment","children","_jsx","className","id","pencil_0","eraser_","photo","undo_","redo_","download_","type","min","max","step","onChange"],"mappings":"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","file":"static/js/8.903d6ad8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/0_pencil.7922f3a6.svg\";","export default __webpack_public_path__ + \"static/media/download.ca20c51c.svg\";","export default __webpack_public_path__ + \"static/media/1_pencil.fd7992e1.svg\";","export default __webpack_public_path__ + \"static/media/2_pencil.031dfcbb.svg\";","export default __webpack_public_path__ + \"static/media/eraser.4a7139e2.svg\";","export default __webpack_public_path__ + \"static/media/note.af1a509a.svg\";","export default __webpack_public_path__ + \"static/media/photo.4869f4aa.svg\";","export default __webpack_public_path__ + \"static/media/redo.68f7d638.svg\";","export default __webpack_public_path__ + \"static/media/undo.d8331ea2.svg\";","export default __webpack_public_path__ + \"static/media/shapes.bcc0c4ce.svg\";","export default __webpack_public_path__ + \"static/media/zoom-in.f3563edc.svg\";","export default __webpack_public_path__ + \"static/media/zoom-out.084c7acc.svg\";","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-debugger */\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { LeftOutlined, RightOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Layout, Heading, Section } from 'components';\r\nimport '@ant-design/compatible/assets/index.css';\r\nimport { Row, Col, BackTop, Input, Typography } from 'antd';\r\nimport { baseStyles } from 'styles/base';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport './style.css';\r\nimport pencil_0 from 'assets/icons/0_pencil.svg';\r\nimport pencil_1 from 'assets/icons/1_pencil.svg';\r\nimport pencil_2 from 'assets/icons/2_pencil.svg';\r\nimport download_ from 'assets/icons/download.svg';\r\nimport eraser_ from 'assets/icons/eraser.svg';\r\nimport note from 'assets/icons/note.svg';\r\nimport photo from 'assets/icons/photo.svg';\r\nimport redo_ from 'assets/icons/redo.svg';\r\nimport shapes from 'assets/icons/shapes.svg';\r\nimport undo_ from 'assets/icons/undo.svg';\r\nimport zoomin from 'assets/icons/zoom-in.svg';\r\nimport zoomout from 'assets/icons/zoom-out.svg';\r\nimport $ from 'jquery';\r\nimport { jsPDF } from 'jspdf';\r\nimport { html2canvas } from 'html2canvas';\r\n\r\nlet hamburger;\r\nlet toolsDisplay = true;\r\nlet colors = ['#000000', '#eb3b5a', '#3867d6']; //black,red,blue\r\nlet colorNumber = 0;\r\nlet currColor = '#000000';\r\nvar pencilSlider;\r\nlet eraserSlider;\r\nlet pencil;\r\nlet eraser;\r\nvar pencilTarget;\r\nvar eraserTarget;\r\nlet sticky;\r\nlet stickyNoteNumber = 0;\r\nlet upload;\r\nlet canvas;\r\nlet undoRedoTracker = [];\r\nlet track = 0;\r\nlet undo;\r\nlet redo;\r\nlet tool;\r\nlet mouseDown = false;\r\nlet download;\r\nfunction updateUndoRedoDisabledClass() {\r\n\tif (track <= 0) {\r\n\t\tundo.classList.add('disabled');\r\n\t} else {\r\n\t\tundo.classList.remove('disabled');\r\n\t}\r\n\r\n\tif (track < undoRedoTracker.length - 1) {\r\n\t\tredo.classList.remove('disabled');\r\n\t} else {\r\n\t\tredo.classList.add('disabled');\r\n\t}\r\n}\r\nfunction getPDF() {\r\n\tvar HTML_Width = $('.canvas_div_pdf').width();\r\n\tvar HTML_Height = $('.canvas_div_pdf').height();\r\n\tvar top_left_margin = 15;\r\n\tvar PDF_Width = HTML_Width + top_left_margin * 2;\r\n\tvar PDF_Height = PDF_Width * 1.5 + top_left_margin * 2;\r\n\tvar canvas_image_width = HTML_Width;\r\n\tvar canvas_image_height = HTML_Height;\r\n\r\n\tvar totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;\r\n\r\n\thtml2canvas($('.canvas_div_pdf')[0], { allowTaint: true }).then(function (canvas) {\r\n\t\tcanvas.getContext('2d');\r\n\r\n\t\tconsole.log(canvas.height + '  ' + canvas.width);\r\n\r\n\t\tvar imgData = canvas.toDataURL('image/jpeg', 1.0);\r\n\t\tvar pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);\r\n\t\tpdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);\r\n\r\n\t\tfor (var i = 1; i <= totalPDFPages; i++) {\r\n\t\t\tpdf.addPage(PDF_Width, PDF_Height);\r\n\t\t\tpdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + top_left_margin * 4, canvas_image_width, canvas_image_height);\r\n\t\t}\r\n\r\n\t\tpdf.save('myNotes.pdf');\r\n\t});\r\n}\r\nfunction undoRedoCanvas() {\r\n\tlet url = undoRedoTracker[track];\r\n\tlet img = new Image();\r\n\timg.src = url;\r\n\r\n\timg.onload = () => {\r\n\t\ttool.fillStyle = 'white';\r\n\t\ttool.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\ttool.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\t};\r\n}\r\n\r\nfunction beginPath(strokeObj) {\r\n\ttool.beginPath();\r\n\ttool.moveTo(strokeObj.x, strokeObj.y);\r\n}\r\n\r\nfunction drawStroke(strokeObj) {\r\n\ttool.lineTo(strokeObj.x, strokeObj.y);\r\n\ttool.stroke();\r\n}\r\n\r\nfunction addToundoRedoTracker() {\r\n\tlet url = canvas.toDataURL();\r\n\tundoRedoTracker.push(url);\r\n\ttrack = undoRedoTracker.length - 1;\r\n\r\n\tif (track > 0) {\r\n\t\tundo.classList.remove('disabled');\r\n\t}\r\n}\r\nfunction changeSliderValue(slider, target) {\r\n\tslider.addEventListener('input', () => {\r\n\t\tvar newValue = slider.value;\r\n\t\ttool.lineWidth = newValue;\r\n\t\ttarget.style.display = 'block';\r\n\t\ttarget.innerHTML = newValue;\r\n\t});\r\n\tslider.addEventListener('mouseup', () => {\r\n\t\ttarget.style.display = 'none';\r\n\t});\r\n}\r\nfunction changePencilColor() {\r\n\tpencil.setAttribute('src', `icons/${colorNumber}_pencil.svg`);\r\n\tpencilSlider.setAttribute('style', `background-color: ${colors[colorNumber]}; border: 2px solid ${colors[colorNumber]}`);\r\n\tpencilTarget.style.color = colors[colorNumber];\r\n\ttool.strokeStyle = colors[colorNumber];\r\n\tcurrColor = colors[colorNumber];\r\n\tcolorNumber = (colorNumber + 1) % 3;\r\n}\r\nfunction createStickyNote(stickyTemplateHTML) {\r\n\tlet stickyCont = document.createElement('div');\r\n\tstickyCont.setAttribute('class', 'sticky-note');\r\n\tstickyCont.setAttribute('id', `sticky-note-${stickyNoteNumber}`);\r\n\r\n\tlet navDimensions = document.querySelector('nav').getBoundingClientRect();\r\n\tlet left = Math.floor(Math.random() * window.innerWidth);\r\n\tlet top = Math.floor(Math.random() * (window.innerHeight - navDimensions.height));\r\n\r\n\tstickyCont.innerHTML = stickyTemplateHTML;\r\n\r\n\tif (top < navDimensions.height) {\r\n\t\ttop += navDimensions.height;\r\n\t}\r\n\tif (top > window.innerHeight / 2) {\r\n\t\ttop -= 256;\r\n\t}\r\n\tstickyCont.style.top = top + window.pageYOffset + 'px';\r\n\r\n\tif (left > 240) {\r\n\t\tleft -= 240;\r\n\t}\r\n\tstickyCont.style.left = left + 'px';\r\n\tdocument.querySelector('.canvas_div_pdf').appendChild(stickyCont);\r\n\r\n\t//for drap n drop\r\n\tdocument.querySelector(`#sticky-note-${stickyNoteNumber} header`).onmousedown = function (event) {\r\n\t\tdragAndDrop(stickyCont, event);\r\n\t};\r\n\tstickyCont.ondragstart = function () {\r\n\t\treturn false;\r\n\t};\r\n\r\n\t//to minimize note textarea\r\n\tlet minimize = document.querySelector(`#sticky-note-${stickyNoteNumber} .minimize`);\r\n\tlet noteContainer = document.querySelector(`#sticky-note-${stickyNoteNumber} .note-container`);\r\n\tlet noteHeader = document.querySelector(`#sticky-note-${stickyNoteNumber} header`);\r\n\tminimize.addEventListener('click', () => {\r\n\t\tlet display = getComputedStyle(noteContainer).getPropertyValue('display');\r\n\t\tif (display === 'block') {\r\n\t\t\tnoteContainer.style.display = 'none';\r\n\t\t\tnoteHeader.style.borderRadius = '0.8rem';\r\n\t\t} else {\r\n\t\t\tnoteHeader.style.borderBottomLeftRadius = '';\r\n\t\t\tnoteHeader.style.borderBottomRightRadius = '';\r\n\t\t\tnoteContainer.style.display = 'block';\r\n\t\t}\r\n\t});\r\n\r\n\t//to delete the sticky note\r\n\tlet remove = document.querySelector(`#sticky-note-${stickyNoteNumber} .remove`);\r\n\tremove.addEventListener('click', () => {\r\n\t\tconsole.log('clicked');\r\n\t\tstickyCont.remove();\r\n\t});\r\n\r\n\tstickyNoteNumber++;\r\n}\r\nfunction dragAndDrop(element, event) {\r\n\tlet shiftX = event.clientX - element.getBoundingClientRect().left;\r\n\tlet shiftY = event.clientY - element.getBoundingClientRect().top;\r\n\t// (1) prepare to moving: make absolute and on top by z-index\r\n\t// element.style.position = 'absolute';\r\n\telement.style.zIndex = 1000;\r\n\r\n\t// centers the element at (pageX, pageY) coordinates\r\n\tfunction moveAt(pageX, pageY) {\r\n\t\telement.style.left = pageX - shiftX + 'px';\r\n\t\telement.style.top = pageY - shiftY + 'px';\r\n\t}\r\n\tmoveAt(event.pageX, event.pageY);\r\n\r\n\tfunction onMouseMove(event) {\r\n\t\tmoveAt(event.pageX, event.pageY);\r\n\t}\r\n\tdocument.addEventListener('mousemove', onMouseMove);\r\n\telement.onmouseup = function () {\r\n\t\tdocument.removeEventListener('mousemove', onMouseMove);\r\n\t\telement.onmouseup = null;\r\n\t};\r\n}\r\n\r\nfunction OpenBoard({ history, i18n, language }) {\r\n\tuseEffect(() => {\r\n\t\thamburger = document.querySelector('#nav-icon1');\r\n\t\thamburger.addEventListener('click', () => {\r\n\t\t\thamburger.classList.toggle('open');\r\n\r\n\t\t\tlet tools = document.querySelector('.tools');\r\n\t\t\tif (toolsDisplay) {\r\n\t\t\t\ttools.setAttribute('style', 'animation-name:hide-tools;animation-duration: 0.8s');\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\ttools.style.display = 'none';\r\n\t\t\t\t}, 700);\r\n\t\t\t\ttoolsDisplay = false;\r\n\t\t\t} else {\r\n\t\t\t\ttools.setAttribute('style', 'animation-name:show-tools');\r\n\t\t\t\ttools.style.display = 'flex';\r\n\t\t\t\ttoolsDisplay = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tpencilSlider = document.querySelector('#pencil-slider-value input');\r\n\t\teraserSlider = document.querySelector('#eraser-slider-value input');\r\n\t\tpencil = document.querySelector('img#pencil');\r\n\t\teraser = document.querySelector('img#eraser');\r\n\t\tpencilTarget = document.querySelector('#pencil-slider-value .value');\r\n\t\teraserTarget = document.querySelector('#eraser-slider-value .value');\r\n\t\tsticky = document.querySelector('img#sticky');\r\n\t\tchangeSliderValue(pencilSlider, pencilTarget);\r\n\t\tchangeSliderValue(eraserSlider, eraserTarget);\r\n\t\t//to toggle active class\r\n\t\tpencil.addEventListener('click', () => {\r\n\t\t\tpencil.classList.add('active');\r\n\t\t\teraser.classList.remove('active');\r\n\t\t\tpencilSlider.style.display = 'block';\r\n\t\t\teraserSlider.style.display = 'none';\r\n\r\n\t\t\ttool.strokeStyle = currColor;\r\n\t\t});\r\n\t\teraser.addEventListener('click', () => {\r\n\t\t\teraser.classList.add('active');\r\n\t\t\tpencil.classList.remove('active');\r\n\t\t\tpencilSlider.style.display = 'none';\r\n\t\t\teraserSlider.style.display = 'block';\r\n\r\n\t\t\ttool.strokeStyle = 'white';\r\n\t\t});\r\n\t\tpencilSlider.addEventListener('dblclick', changePencilColor);\r\n\t\tpencil.addEventListener('dblclick', changePencilColor);\r\n\t\tsticky.addEventListener('click', () => {\r\n\t\t\tlet stickyTemplateHTML = `\r\n            <header>\r\n              <input type=\"text\" />\r\n              <div class=\"actions\">\r\n                <div class=\"minimize\"></div>\r\n                <div class=\"remove\"></div>\r\n              </div>\r\n            </header>\r\n            <div class=\"note-container\">\r\n              <textarea spellcheck=\"false\" ></textarea>\r\n            </div>\r\n            `;\r\n\r\n\t\t\tcreateStickyNote(stickyTemplateHTML);\r\n\t\t});\r\n\t\tupload = document.querySelector('img#upload');\r\n\t\tupload.addEventListener('click', () => {\r\n\t\t\tlet input = document.createElement('input');\r\n\t\t\tinput.setAttribute('type', 'file');\r\n\t\t\tinput.setAttribute('accept', 'image/*');\r\n\t\t\tinput.click();\r\n\r\n\t\t\tinput.addEventListener('change', () => {\r\n\t\t\t\tlet file = input.files[0];\r\n\t\t\t\tlet url = URL.createObjectURL(file);\r\n\t\t\t\tlet stickyTemplateHTML = `\r\n    <header>\r\n    <input type=\"text\" value=${file.name.split('.')[0]} />\r\n    <div class=\"actions\">\r\n      <div class=\"minimize\"></div>\r\n      <div class=\"remove\"></div>\r\n    </div>\r\n    </header>\r\n    <div class=\"note-container\">\r\n      <img src = \"${url}\" />\r\n    </div>\r\n    `;\r\n\t\t\t\tcreateStickyNote(stickyTemplateHTML);\r\n\t\t\t});\r\n\t\t});\r\n\t\tcanvas = document.querySelector('canvas');\r\n\t\tundoRedoTracker = [];\r\n\t\ttrack = 0;\r\n\t\taddToundoRedoTracker();\r\n\t\tundo = document.querySelector('img#undo');\r\n\t\tredo = document.querySelector('img#redo');\r\n\r\n\t\tcanvas.width = window.innerWidth;\r\n\t\tcanvas.height = window.innerHeight * 4;\r\n\r\n\t\ttool = canvas.getContext('2d');\r\n\r\n\t\ttool.strokeStyle = 'black';\r\n\t\ttool.lineWidth = '3';\r\n\t\tmouseDown = false;\r\n\r\n\t\tcanvas.addEventListener('mousedown', (e) => {\r\n\t\t\tmouseDown = true;\r\n\t\t\tbeginPath({ x: e.pageX, y: e.pageY });\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener('mousemove', (e) => {\r\n\t\t\tif (mouseDown) drawStroke({ x: e.pageX, y: e.pageY });\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener('mouseup', () => {\r\n\t\t\tmouseDown = false;\r\n\r\n\t\t\taddToundoRedoTracker();\r\n\t\t});\r\n\t\tundo.addEventListener('click', () => {\r\n\t\t\tif (track > 0) {\r\n\t\t\t\ttrack--;\r\n\t\t\t\tundoRedoCanvas();\r\n\t\t\t}\r\n\r\n\t\t\tupdateUndoRedoDisabledClass();\r\n\t\t});\r\n\r\n\t\tredo.addEventListener('click', () => {\r\n\t\t\tif (track < undoRedoTracker.length - 1) {\r\n\t\t\t\ttrack++;\r\n\t\t\t\tundoRedoCanvas();\r\n\t\t\t}\r\n\r\n\t\t\tupdateUndoRedoDisabledClass();\r\n\t\t});\r\n\t\tdownload = document.querySelector('img#download');\r\n\t\tdownload.addEventListener('click', () => {\r\n\t\t\tlet noteContainers = document.querySelectorAll('.note-container');\r\n\t\t\tnoteContainers.forEach((note) => {\r\n\t\t\t\tnote.style.border = '1px solid #bbbbbb';\r\n\t\t\t});\r\n\r\n\t\t\tgetPDF();\r\n\r\n\t\t\tnoteContainers.forEach((note) => {\r\n\t\t\t\tnote.style.border = 'none';\r\n\t\t\t});\r\n\t\t});\r\n\t}, []);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"tools-toggle-button\">\r\n\t\t\t\t<div id=\"nav-icon1\" className=\"open\">\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"tools\">\r\n\t\t\t\t<img id=\"pencil\" className=\"active\" src={pencil_0} />\r\n\t\t\t\t<img id=\"eraser\" src={eraser_} />\r\n\t\t\t\t<img id=\"sticky\" src={note} />\r\n\t\t\t\t<img id=\"upload\" src={photo} />\r\n\t\t\t\t<img id=\"undo\" src={undo_} className=\"disabled\" />\r\n\t\t\t\t<img id=\"redo\" src={redo_} className=\"disabled\" />\r\n\t\t\t\t<img id=\"download\" src={download_} />\r\n\t\t\t</div>\r\n\t\t\t<div id=\"pencil-slider-value\">\r\n\t\t\t\t<div className=\"value\">2</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"10\"\r\n\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\tvalue=\"3\"\r\n\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\tconsole.log('hello');\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"eraser-slider-value\">\r\n\t\t\t\t<div className=\"value\">2</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"10\"\r\n\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\tvalue=\"3\"\r\n\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\tconsole.log('hello');\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"canvas_div_pdf\">\r\n\t\t\t\t<canvas></canvas>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n// prettier-ignore\r\nexport default (withRouter(OpenBoard))\r\n\r\n/*\r\n███████╗████████╗██╗   ██╗██╗     ███████╗███████╗\r\n██╔════╝╚══██╔══╝╚██╗ ██╔╝██║     ██╔════╝██╔════╝\r\n███████╗   ██║    ╚████╔╝ ██║     █████╗  ███████╗\r\n╚════██║   ██║     ╚██╔╝  ██║     ██╔══╝  ╚════██║\r\n███████║   ██║      ██║   ███████╗███████╗███████║\r\n╚══════╝   ╚═╝      ╚═╝   ╚══════╝╚══════╝╚══════╝\r\n*/\r\n"],"sourceRoot":""}